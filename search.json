[{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"cellNexus","text":"cellNexus builds upon extends functionality previously released CuratedAtlasQueryR, providing unified query access interface harmonised, curated, reannotated CELLxGENE human cell atlas. enables reproducible programmatic exploration large-scale single-cell data resources, supporting retrieval cell, sample, dataset levels flexible filtering tissue, cell type, experimental condition, metadata features. retrieved data returned downstream analysis. cellNexus integrates 40 million human cells processed standardised quality control, consistent normalisation, unified abundance representations—including single-cell, counts-per-million, pseudobulk, metacell layers. harmonised design facilitates efficient cross-dataset analyses downstream integration. Data hosted ARDC Nectar Research Cloud, cellNexus functions interact Nectar via web requests, network connection required functionality. cellNexus CuratedAtlasQueryR rely pre-computed expression layers, differ layers generated. cellNexus applies standardised workflow explicit empty droplet dead cell removal followed harmonised QC, normalisation, multi-layer data generation. , produces newly iterated data align evolving CELLxGENE releases.","code":""},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"installation","dir":"Articles","previous_headings":"Query interface","what":"Installation","title":"cellNexus","text":"","code":"devtools::install_github(\"MangiolaLaboratory/cellNexus\")"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"load-the-package","dir":"Articles","previous_headings":"Query interface","what":"Load the package","title":"cellNexus","text":"","code":"library(cellNexus)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"load-additional-packages","dir":"Articles","previous_headings":"Query interface","what":"Load additional packages","title":"cellNexus","text":"","code":"suppressPackageStartupMessages({     library(ggplot2) })"},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"load-the-metadata","dir":"Articles","previous_headings":"Query interface > Load and explore the metadata","what":"Load the metadata","title":"cellNexus","text":"Metadata saved get_default_cache_dir() unless custom path provided via cache_directory argument. metadata variable can re-used subsequent queries.","code":"metadata <- get_metadata(cloud_metadata = METADATA_URL) metadata"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"explore-the-tissue","dir":"Articles","previous_headings":"Query interface > Load and explore the metadata","what":"Explore the tissue","title":"cellNexus","text":"","code":"metadata |>     dplyr::distinct(tissue, cell_type_unified_ensemble)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"quality-control","dir":"Articles","previous_headings":"Query interface","what":"Quality control","title":"cellNexus","text":"cellNexus metadata applies standardised quality control filter empty droplets, dead damaged cells, doublets, samples low gene counts.","code":"metadata = metadata |>    dplyr::filter(empty_droplet == FALSE,          alive == TRUE,          scDblFinder.class != \"doublet\",          feature_count >= 5000)"},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"query-raw-counts","dir":"Articles","previous_headings":"Query interface > Download single-cell RNA sequencing counts","what":"Query raw counts","title":"cellNexus","text":"","code":"single_cell_counts =      metadata |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>   head() |>    get_single_cell_experiment()  single_cell_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"query-counts-scaled-per-million","dir":"Articles","previous_headings":"Query interface > Download single-cell RNA sequencing counts","what":"Query counts scaled per million","title":"cellNexus","text":"","code":"single_cell_cpm =      metadata |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>   head() |>    get_single_cell_experiment(assays = \"cpm\")  single_cell_cpm"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"query-pseudobulk","dir":"Articles","previous_headings":"Query interface > Download single-cell RNA sequencing counts","what":"Query pseudobulk","title":"cellNexus","text":"","code":"pseudobulk_counts =     metadata |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>   head() |>    get_pseudobulk()  pseudobulk_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"query-metacell","dir":"Articles","previous_headings":"Query interface > Download single-cell RNA sequencing counts","what":"Query metacell","title":"cellNexus","text":"metadata includes series metacell aggregation levels, beginning 2, 4, 8, . example, value metacell_2 represents grouping cells can split two distinct metacells.","code":"metacell_counts =     metadata |>     dplyr::filter(!is.na(metacell_2)) |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>   head() |>    get_metacell(cell_aggregation = \"metacell_2\")  metacell_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"extract-only-a-subset-of-genes","dir":"Articles","previous_headings":"Query interface > Download single-cell RNA sequencing counts","what":"Extract only a subset of genes","title":"cellNexus","text":"helpful just genes interest (e.g ENSG00000134644 (PUM1)), can compared across samples. cellNexus uses ENSEMBL gene ID(s).","code":"single_cell_cpm =      metadata |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>   head() |>   get_single_cell_experiment(assays = \"cpm\", features = \"ENSG00000134644\")  single_cell_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"extract-the-counts-as-a-seurat-object","dir":"Articles","previous_headings":"Query interface > Download single-cell RNA sequencing counts","what":"Extract the counts as a Seurat object","title":"cellNexus","text":"convert H5 SingleCellExperiment Seurat might take long time occupy lot memory depending many cells requesting. default, data downloaded get_default_cache_dir() output. memory concern, users can specify custom cache directory metadata counts functions:","code":"seurat_counts =      metadata |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>   head() |>   get_seurat()  seurat_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"load-metadata-from-the-custom-cache-directory","dir":"Articles","previous_headings":"Query interface","what":"Load metadata from the custom cache directory","title":"cellNexus","text":"","code":"metadata <- get_metadata(cache_directory = \"/MY/CUSTOM/PATH\")"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"query-raw-counts-from-the-custom-cache-directory","dir":"Articles","previous_headings":"Query interface","what":"Query raw counts from the custom cache directory","title":"cellNexus","text":"strategy can applied functions get_pseuodbulk(), get_metacell(), get_seurat() passing custom directory character “cache_directory” parameter.","code":"single_cell_counts =      metadata |>     dplyr::filter(         self_reported_ethnicity == \"African\" &         assay |> stringr::str_like(\"%10x%\") &         tissue == \"lung parenchyma\" &         cell_type |> stringr::str_like(\"%CD4%\")     ) |>     get_single_cell_experiment(cache_directory = \"/MY/CUSTOM/PATH\")  single_cell_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"save-your-singlecellexperiment","dir":"Articles","previous_headings":"Query interface","what":"Save your SingleCellExperiment","title":"cellNexus","text":"returned SingleCellExperiment can saved three modalities, .rds HDF5 H5AD.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"saving-as-rds-fast-saving-slow-reading","dir":"Articles","previous_headings":"Query interface > Save your SingleCellExperiment","what":"Saving as RDS (fast saving, slow reading)","title":"cellNexus","text":"Saving .rds advantage fast, .rds file occupies little disk space stores links files cache. However disadvantage big SingleCellExperiment objects, merge lot HDF5 get_single_cell_experiment, display manipulation going slow. addition, .rds saved way portable: able share users.","code":"single_cell_counts |> saveRDS(\"single_cell_counts.rds\")"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"saving-as-hdf5-slow-saving-fast-reading","dir":"Articles","previous_headings":"Query interface > Save your SingleCellExperiment","what":"Saving as HDF5 (slow saving, fast reading)","title":"cellNexus","text":"Saving .hdf5 executes computation SingleCellExperiment writes disk monolithic HDF5. done, operations SingleCellExperiment comparatively fast. resulting .hdf5 file also totally portable sharable. However .hdf5 disadvantage larger corresponding .rds includes copy count information, saving process going slow large objects.","code":"# ! IMPORTANT if you save 200K+ cells HDF5Array::setAutoBlockSize(size = 1e+09)   single_cell_counts |>    HDF5Array::saveHDF5SummarizedExperiment(     \"single_cell_counts\",      replace = TRUE,      as.sparse = TRUE,      verbose = TRUE   )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"saving-as-h5ad-slow-saving-fast-reading","dir":"Articles","previous_headings":"Query interface > Save your SingleCellExperiment","what":"Saving as H5AD (slow saving, fast reading)","title":"cellNexus","text":"Saving .h5ad executes computation SingleCellExperiment writes disk monolithic H5AD. H5AD format HDF5 disk representation AnnData object well-supported Python. However .h5ad saving strategy bottleneck handling columns NA values SingleCellExperiment metadata.","code":"# ! IMPORTANT if you save 200K+ cells HDF5Array::setAutoBlockSize(size = 1e+09)   single_cell_counts |> anndataR::write_h5ad(\"single_cell_counts.h5ad\",                                                 compression = \"gzip\",                                                verbose = TRUE)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"visualise-gene-transcription","dir":"Articles","previous_headings":"Query interface","what":"Visualise gene transcription","title":"cellNexus","text":"can gather CD14 monocytes cells plot distribution ENSG00000085265 (FCN1) across tissues","code":"# Plots with styling counts <- metadata |>   # Filter and subset   dplyr::filter(cell_type_unified_ensemble == \"cd14 mono\") |>      # Get counts per million for FCN1 gene   get_single_cell_experiment(assays = \"cpm\", features = \"ENSG00000085265\") |>    suppressMessages() |>      # Add feature to table   tidySingleCellExperiment::join_features(\"ENSG00000085265\", shape = \"wide\") |>       # Rank x axis   tibble::as_tibble() |>      # Rename to gene symbol   dplyr::rename(FCN1 = ENSG00000085265)  # Plot by disease counts |>   dplyr::with_groups(disease, ~ .x |> dplyr::mutate(median_count = median(`FCN1`, rm.na=TRUE))) |>       # Plot   ggplot(aes(forcats::fct_reorder(disease, median_count,.desc = TRUE), `FCN1`,color = dataset_id)) +   geom_jitter(shape=\".\") +        # Style   guides(color=\"none\") +   scale_y_log10() +   theme_bw() +   theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1)) +    xlab(\"Disease\") +    ggtitle(\"FCN1 in CD14 monocytes by disease. Coloured by datasets\") # Plot by tissue counts |>    dplyr::with_groups(tissue, ~ .x |> dplyr::mutate(median_count = median(`FCN1`, rm.na=TRUE))) |>       # Plot   ggplot(aes(forcats::fct_reorder(tissue, median_count,.desc = TRUE), `FCN1`,color = dataset_id)) +   geom_jitter(shape=\".\") +        # Style   guides(color=\"none\") +   scale_y_log10() +   theme_bw() +   theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1)) +    xlab(\"Tissue\") +    ggtitle(\"FCN1 in CD14 monocytes by tissue. Colored by datasets\") +    theme(legend.position = \"none\", axis.text.x = element_text(size = 6.5))"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"integrate-cloud-and-local-metadata","dir":"Articles","previous_headings":"Query interface","what":"Integrate cloud and local metadata","title":"cellNexus","text":"cellNexus enables users query metadata also allows integration local metadata. Additionally, users can integrate metadata stored cloud. enable feature, users must include file_id_cellNexus_single_cell atlas_id (e.g cellxgene/dd-mm-yy) columns metadata. See metadata structure cellNexus::pbmc3k_sce","code":"# Set up local cache and paths local_cache <- tempdir() layer <- \"counts\" meta_path <- file.path(local_cache, \"pbmc3k_metadata.parquet\")  # Extract and prepare metadata pbmc3k_metadata <- cellNexus::pbmc3k_sce |>    S4Vectors::metadata() |>    purrr::pluck(\"data\") |>    dplyr::mutate(     counts_directory = file.path(tempdir(), atlas_id, layer),     sce_path = file.path(counts_directory, file_id_cellNexus_single_cell)   )  # Get unique paths counts_directory <- pbmc3k_metadata |>    dplyr::pull(counts_directory) |>    unique()  sce_path <- pbmc3k_metadata |>    dplyr::pull(sce_path) |>    unique()  # Create directory structure dir.create(counts_directory, recursive = TRUE, showWarnings = FALSE)  # Save data to disk cellNexus::pbmc3k_sce |>    S4Vectors::metadata() |>    purrr::pluck(\"data\") |>    arrow::write_parquet(meta_path)  # Save SCE object cellNexus::pbmc3k_sce |>    anndataR::write_h5ad(sce_path, compression = \"gzip\") # A cellNexus file file_id_from_cloud <- \"e52795dec7b626b6276b867d55328d9f___1.h5ad\" file_id_local <- basename(sce_path)  get_metadata(cloud_metadata = METADATA_URL,              local_metadata = meta_path,              cache_directory = local_cache) |>      # For illustration purpose, only filter a selected cloud metadata and the saved metadata    dplyr::filter(file_id_cellNexus_single_cell %in% c(file_id_from_cloud, file_id_local)) |>   dplyr::select(cell_id, sample_id, dataset_id, cell_type_unified_ensemble, atlas_id, file_id_cellNexus_single_cell ) |>   get_single_cell_experiment(cache_directory = local_cache)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"cell-metadata","dir":"Articles","previous_headings":"","what":"Cell metadata","title":"cellNexus","text":"Dataset-specific columns (definitions available cellxgene.cziscience.com) cell_count, collection_id, filetype, is_primary_data, mean_genes_per_cell, published_at, revised_at, schema_version, tombstone, x_normalization, explorer_url, dataset_id, dataset_version_id Sample-specific columns (definitions available cellxgene.cziscience.com) sample_id, sample_, age_days, assay, assay_ontology_term_id, development_stage, development_stage_ontology_term_id, self_reported_ethnicity, self_reported_ethnicity_ontology_term_id, experiment___, organism, organism_ontology_term_id, sample_placeholder, sex, sex_ontology_term_id, tissue, tissue_type, tissue_ontology_term_id, tissue_groups, disease, disease_ontology_term_id, is_primary_data, donor_id, is_immune Cell-specific columns (definitions available cellxgene.cziscience.com) cell_id, cell_type, cell_type_ontology_term_id, cell_annotation_azimuth_l2, cell_annotation_blueprint_singler, observation_joinid, empty_droplet, alive, scDblFinder.class harmonisation curation introduced custom column, present original CELLxGENE metadata age_days: donors’ age days cell_type_unified_ensemble: consensus call identity (immune cells) using original three novel annotations using Seurat Azimuth SingleR cell_annotation_azimuth_l2: Azimuth cell annotation cell_annotation_blueprint_singler: SingleR cell annotation using Blueprint reference cell_annotation_blueprint_monaco: SingleR cell annotation using Monaco reference sample_heuristic: sample subdivision internal use file_id_cellNexus_single_cell: file subdivision internal use file_id_cellNexus_pseudobulk: file subdivision internal use sample_id: sample ID nCount_RNA: total number RNA detected cell per sample nFeature_expressed_in_sample: total number genes expressed cell per sample","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"rna-abundance","dir":"Articles","previous_headings":"","what":"RNA abundance","title":"cellNexus","text":"counts assay includes RNA abundance positive real scale (transformed non-linear functions, e.g. log sqrt). Originally CELLxGENE include mix scales transformations specified x_normalization column. cpm assay includes counts per million.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"other-representations","dir":"Articles","previous_headings":"","what":"Other representations","title":"cellNexus","text":"rank assay representation cell’s gene expression profile genes ranked expression intensity. pseudobulk assay includes aggregated RNA abundance sample cell type combination. metacell (e.g metacell_2, metacell_4 etc) assays represent hierarchical partitions cells metacell groups.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/cellNexus.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"cellNexus","text":"","code":"sessionInfo()"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Gene Expression Explore","text":"page focuses expression-layer retrieval workflows metadata filtering.","code":"library(cellNexus) library(dplyr)  metadata <- get_metadata(cloud_metadata = SAMPLE_DATABASE_URL)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"choose-cells-through-metadata-filters","dir":"Articles","previous_headings":"","what":"Choose cells through metadata filters","title":"Gene Expression Explore","text":"","code":"query_metadata <- metadata |>   dplyr::filter(     self_reported_ethnicity == \"African\",     stringr::str_like(assay, \"%10x%\"),     tissue == \"lung parenchyma\",     stringr::str_like(cell_type, \"%CD4%\")   )"},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"single-cell-counts","dir":"Articles","previous_headings":"Retrieve expression by representation","what":"Single-cell counts","title":"Gene Expression Explore","text":"","code":"sce_counts <- query_metadata |>   get_single_cell_experiment()"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"counts-per-million","dir":"Articles","previous_headings":"Retrieve expression by representation","what":"Counts per million","title":"Gene Expression Explore","text":"","code":"sce_cpm <- query_metadata |>   get_single_cell_experiment(assays = \"cpm\")"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"pseudobulk","dir":"Articles","previous_headings":"Retrieve expression by representation","what":"Pseudobulk","title":"Gene Expression Explore","text":"","code":"pb_counts <- query_metadata |>   get_pseudobulk()"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"metacell","dir":"Articles","previous_headings":"Retrieve expression by representation","what":"Metacell","title":"Gene Expression Explore","text":"","code":"mc_counts <- metadata |>   dplyr::filter(!is.na(metacell_2)) |>   dplyr::filter(     self_reported_ethnicity == \"African\",     stringr::str_like(assay, \"%10x%\"),     tissue == \"lung parenchyma\",     stringr::str_like(cell_type, \"%CD4%\")   ) |>   get_metacell(cell_aggregation = \"metacell_2\")"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"targeted-gene-queries","dir":"Articles","previous_headings":"","what":"Targeted gene queries","title":"Gene Expression Explore","text":"","code":"# ENSEMBL IDs are expected sce_gene <- query_metadata |>   get_single_cell_experiment(     assays = \"cpm\",     features = \"ENSG00000134644\"   )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"output-options","dir":"Articles","previous_headings":"","what":"Output options","title":"Gene Expression Explore","text":"","code":"# Seurat conversion seurat_obj <- query_metadata |>   get_seurat()  # Portable output examples saveRDS(sce_counts, \"single_cell_counts.rds\") HDF5Array::saveHDF5SummarizedExperiment(   sce_counts,   \"single_cell_counts\",   replace = TRUE,   as.sparse = TRUE ) anndataR::write_h5ad(sce_counts, \"single_cell_counts.h5ad\")"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/gene-expression-explore.html","id":"interpretation-notes","dir":"Articles","previous_headings":"","what":"Interpretation notes","title":"Gene Expression Explore","text":"Use counts raw-scale abundance. Use cpm normalized cross-cell comparisons. Use pseudobulk sample/cell-type aggregation analyses. Use metacells robust grouped-cell expression summarization.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/metadata-explore.html","id":"why-this-page-exists","dir":"Articles","previous_headings":"","what":"Why this page exists","title":"Metadata Explore","text":"page standalone metadata guide cellNexus documents key fields used downstream analysis.","code":"library(cellNexus) metadata <- get_metadata(cloud_metadata = SAMPLE_DATABASE_URL) metadata"},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/metadata-explore.html","id":"data-processing-context","dir":"Articles","previous_headings":"","what":"Data-processing context","title":"Metadata Explore","text":"cellNexus metadata harmonised support cross-dataset analysis: Common ontology-backed labels retained possible. Additional curated columns support quality control robust grouping. Expression retrieval APIs use metadata filters provide analysis-ready objects.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/articles/metadata-explore.html","id":"practical-exploration","dir":"Articles","previous_headings":"","what":"Practical exploration","title":"Metadata Explore","text":"","code":"# Which columns are available? colnames(metadata)  # How many datasets per tissue? metadata |>   dplyr::distinct(dataset_id, tissue) |>   dplyr::count(tissue, sort = TRUE)  # Typical quality-control filtering metadata_qc <- metadata |>   dplyr::filter(     empty_droplet == FALSE,     alive == TRUE,     scDblFinder.class != \"doublet\"   )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Stefano Mangiola. Author, reviewer, contributor. Mengyuan Shen. Author, maintainer, reviewer. Michael Milton. Author, reviewer, contributor. Martin Morgan. Contributor, reviewer. Vincent Carey. Contributor, reviewer. Julie Iskander. Reviewer. Tony Papenfuss. Reviewer. Silicon Valley Foundation CZF2019-002443. Funder. NIH NHGRI 5U24HG004059-18. Funder. Victoria Cancer Agency ECRF21036. Funder. NHMRC 1116955. Funder.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mangiola, S., Milton, M., Ranathunga, N., Li-Wai-Suen, C., Odainic, ., Yang, E., Hutchison, W., Garnham, ., Iskander, J., Pal, B., Yadav, V.,          Rossello, J., Carey, V. J., Morgan, M., Bedoui, S., Kallies, ., & Papenfuss, . T. multi-organ map human immune system across age, sex ethnicity bioRxiv [Preprint]. 2023.06.08.542671","code":"@Article{,   title = {A multi-organ map of the human immune system across age, sex and ethnicity},   author = {Stefano Mangiola and Michael Milton and Nishika Ranathunga and Connie SN Li-Wai-Suen and Alexandru Odainic and Edward Young and William Hutchison and Alexandra Garnham and Julie Iskander and Bhupinder Pal and Vijay Kumar Yadav and Fernando Rossello and Vincent Carey and Martin Morgan and Sammy Bedoui and Axel Kallies and Anthony T. Papenfuss},   year = {2024},   journal = {bioRxiv},   doi = {10.1101/2023.06.08.542671}, }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/index.html","id":"cellnexus","dir":"","previous_headings":"","what":"Queries the Human Cell Atlas","title":"Queries the Human Cell Atlas","text":"cellNexus query interface programmatic exploration retrieval harmonised, curated, reannotated CELLxGENE human-cell-atlas data.  standalone documentation website provides: Detailed data-processing information (quality control, harmonisation, expression representations). Complete explanations metadata columns used filtering interpretation. Guided examples metadata-first exploration gene-expression analysis.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/index.html","id":"start-here","dir":"","previous_headings":"","what":"Start Here","title":"Queries the Human Cell Atlas","text":"Home: package purpose, architecture, processing pipeline overview. Metadata Explore: field--field metadata dictionary, examples, filtering strategy. Gene Expression Explore: practical workflows querying single-cell, pseudobulk, metacell expression.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/index.html","id":"data-processing-overview","dir":"","previous_headings":"","what":"Data Processing Overview","title":"Queries the Human Cell Atlas","text":"harmonisation pipeline standardises data across datasets queries consistent across studies: Metadata retrieved cloud-hosted harmonised tables. Standardised quality control removes empty droplets, dead/damaged cells, likely doublets. Cell-level data served common assay layers (counts, cpm, pseudobulk, metacell). Outputs returned analysis-ready R formats SingleCellExperiment Seurat. implementation details code examples, see vignettes listed top navigation.","code":""},{"path":[]},{"path":"https://mangiolalaboratory.github.io/cellNexus/index.html","id":"r-client-cellnexus","dir":"","previous_headings":"Client Usage Examples","what":"R client (cellNexus)","title":"Queries the Human Cell Atlas","text":"","code":"library(cellNexus) library(dplyr) library(stringr)  metadata <- get_metadata(cloud_metadata = SAMPLE_DATABASE_URL)  query <- metadata |>   filter(     empty_droplet == FALSE,     alive == TRUE,     scDblFinder.class != \"doublet\",     self_reported_ethnicity == \"African\",     str_like(assay, \"%10x%\"),     tissue == \"lung parenchyma\",     str_like(cell_type, \"%CD4%\")   )  sce <- get_single_cell_experiment(query, assays = \"cpm\") pb <- get_pseudobulk(query)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/index.html","id":"python-client-cellnexuspy","dir":"","previous_headings":"Client Usage Examples","what":"Python client (cellNexusPy)","title":"Queries the Human Cell Atlas","text":"Python support available companion repository: MangiolaLaboratory/cellNexusPy.","code":"from cellnexuspy import get_metadata, get_anndata  sample_dataset = \"https://object-store.rc.nectar.org.au/v1/AUTH_06d6e008e3e642da99d806ba3ea629c5/cellNexus-metadata/sample_metadata.1.3.0.parquet\" conn, table = get_metadata(parquet_url=sample_dataset)  table = table.filter(\"\"\"     empty_droplet = 'false'     AND alive = 'true'     AND \"scDblFinder.class\" != 'doublet'     AND feature_count >= 5000 \"\"\")  query = table.filter(\"\"\"     self_reported_ethnicity = 'African'     AND assay LIKE '%10%'     AND tissue = 'lung parenchyma'     AND cell_type LIKE '%CD4%' \"\"\")  adata = get_anndata(query, assay=\"cpm\") pb = get_anndata(query, aggregation=\"pseudobulk\") conn.close()"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":null,"dir":"Reference","previous_headings":"","what":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"URL pointing sample metadata file, smaller test, demonstration, vignette purposes ","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"","code":"SAMPLE_DATABASE_URL"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"object class character length 1.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"character scalar consisting URL","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/SAMPLE_DATABASE_URL.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"URL pointing to the sample metadata file, which is smaller and for test, demonstration, and vignette purposes only — SAMPLE_DATABASE_URL","text":"","code":"get_metadata(cloud_metadata = SAMPLE_DATABASE_URL, cache_directory = tempdir()) #> ℹ Downloading 1 file, totalling 0 GB #> ℹ Downloading https://object-store.rc.nectar.org.au/v1/AUTH_06d6e008e3e642da99d806ba3ea629c5/cellNexus-metadata/sample_metadata.1.3.0.parquet to /tmp/RtmpHK6gCt/sample_metadata.1.3.0.parquet #> # Source:   SQL [?? x 97] #> # Database: DuckDB 1.4.3 [unknown@Linux 6.14.0-1017-azure:R 4.6.0/:memory:] #>    cell_id                     dataset_id observation_joinid sample_id cell_type #>    <chr>                       <chr>      <chr>              <chr>     <chr>     #>  1 FCAImmP7528294-ACATACGAGTA… cda2c8cd-… p5e=WoIq0d         034f0fb1… monocyte  #>  2 FCAImmP7528294-CATGACAGTCC… cda2c8cd-… lx`7Bo-&7n         034f0fb1… monocyte  #>  3 FCAImmP7528294-AAGACCTAGCT… cda2c8cd-… *NUPW@J{c2         034f0fb1… monocyte  #>  4 FCAImmP7528294-AATCGGTTCAA… cda2c8cd-… KIV>qGFIS?         034f0fb1… monocyte  #>  5 FCAImmP7528294-TTTGGTTGTGG… cda2c8cd-… *_#lQ<oUnT         034f0fb1… monocyte  #>  6 FCAImmP7528294-TCAGGTACAAT… cda2c8cd-… zHCZWNmUHu         034f0fb1… monocyte  #>  7 FCAImmP7528294-GACGCGTAGGC… cda2c8cd-… -NL-OH3!IA         034f0fb1… monocyte  #>  8 FCAImmP7528294-CTTGGCTGTTC… cda2c8cd-… 6mRCZW}rOM         034f0fb1… monocyte  #>  9 FCAImmP7528294-CACTCCACACC… cda2c8cd-… I6>u{Gb-J_         034f0fb1… monocyte  #> 10 FCAImmP7579218-TGTGGTAGTCT… cda2c8cd-… IdHwp1GBZm         03ddfd57… monocyte  #> # ℹ more rows #> # ℹ 92 more variables: cell_type_ontology_term_id <chr>, sample_ <chr>, #> #   assay <chr>, assay_ontology_term_id <chr>, cell_count <int>, #> #   citation <chr>, collection_id <chr>, dataset_version_id <chr>, #> #   default_embedding <chr>, development_stage <chr>, #> #   development_stage_ontology_term_id <chr>, disease <chr>, #> #   disease_ontology_term_id <chr>, donor_id <chr>, experiment___ <chr>, …"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/calculate_pseudobulk.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate pseudobulk counts and quantile_normalised counts — calculate_pseudobulk","title":"Generate pseudobulk counts and quantile_normalised counts — calculate_pseudobulk","text":"Generate pseudobulk counts quantile_normalised counts","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/calculate_pseudobulk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate pseudobulk counts and quantile_normalised counts — calculate_pseudobulk","text":"","code":"calculate_pseudobulk(   sce_data,   atlas_name,   import_date,   cell_aggregation,   cache_dir = get_default_cache_dir() )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/calculate_pseudobulk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate pseudobulk counts and quantile_normalised counts — calculate_pseudobulk","text":"sce_data SingleCellExperiment object, metadata slot must contain cell_id dataset_id atlas_name character string specifying name atlas import. import_date character vector specifies date import. date international format 'YYYY-MM-DD' clarity consistency. cell_aggregation character vector specifies cell aggregation strategy applied. create  corresponding subdirectory atlas cache. Choose one following: single_cell, pseudobulk. cache_dir Optional character vector length 1. file path local system directory (file) used store pseudobulk counts","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/calculate_pseudobulk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate pseudobulk counts and quantile_normalised counts — calculate_pseudobulk","text":"Pseudobulk counts Anndata format stored cache directory","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/calculate_pseudobulk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate pseudobulk counts and quantile_normalised counts — calculate_pseudobulk","text":"","code":"data(pbmc3k_sce) calculate_pseudobulk(pbmc3k_sce,                    atlas_name = \"pbmc3k_sce_atlas\",                    import_date = format(Sys.Date(), \"%d-%m-%Y\"),                    cell_aggregation = \"pseudobulk\",                    cache_dir = get_default_cache_dir()) #> ℹ Generating pseudobulk from 67e196a3c4e145151fc9e06c200e2f7f.h5ad.  #> ℹ pseudobulk are generated in /github/home/.cache/R/cellNexus/pbmc3k_sce_atlas/19-02-2026/pseudobulk."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/cellNexus-package.html","id":null,"dir":"Reference","previous_headings":"","what":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","title":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","text":"cellNexus provides query interface programmatic exploration retrieval harmonised, curated reannotated CELLxGENE single-cell Human Cell Atlas. package allows users query metadata download single-cell RNA sequencing data various formats including SingleCellExperiment, Seurat, pseudobulk SummarizedExperiment objects.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/cellNexus-package.html","id":"getting-started","dir":"Reference","previous_headings":"","what":"Getting Started","title":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","text":"get started cellNexus, first load package retrieve metadata: filter metadata find cells interest download data:","code":"library(cellNexus) metadata <- get_metadata() filtered_metadata <- metadata |>     dplyr::filter(         tissue == \"lung parenchyma\" &         cell_type %LIKE% \"%CD4%\"     )  sce <- get_single_cell_experiment(filtered_metadata)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/cellNexus-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","text":"get_metadata Retrieve query harmonised metadata get_single_cell_experiment Download data SingleCellExperiment objects get_seurat Download data Seurat objects get_pseudobulk Download aggregated pseudobulk data get_metacell Download metacell aggregated data","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/cellNexus-package.html","id":"data-licensing","dir":"Reference","previous_headings":"","what":"Data Licensing","title":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","text":"Important: Human Cell Atlas data accessed package subject licensing terms, differ package license. cellNexus package licensed GPL-3. However, underlying Human Cell Atlas data typically licensed Creative Commons Attribution (CC-) similar open data licenses specified Human Cell Atlas Data Use Agreement. Users review specific licensing terms datasets access package. information, see Human Cell Atlas Data Portal: https://data.humancellatlas.org/","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/cellNexus-package.html","id":"vignettes","dir":"Reference","previous_headings":"","what":"Vignettes","title":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","text":"See vignette(\"cellNexus\", package = \"cellNexus\") comprehensive introduction using package.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/cellNexus-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"cellNexus: Query Interface for the Human Cell Atlas — cellNexus-package","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/clear_old_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the outdated metadata in the default cache directory. — clear_old_metadata","title":"Clear the outdated metadata in the default cache directory. — clear_old_metadata","text":"Clear outdated metadata default cache directory.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/clear_old_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the outdated metadata in the default cache directory. — clear_old_metadata","text":"","code":"clear_old_metadata(updated_data)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/clear_old_metadata.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Clear the outdated metadata in the default cache directory. — clear_old_metadata","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/clear_old_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the outdated metadata in the default cache directory. — clear_old_metadata","text":"updated_data character vector outdated metadata name","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/clear_old_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the outdated metadata in the default cache directory. — clear_old_metadata","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/create_interface_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","title":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","text":"Create Shiny app allows users generate filtering & retreival code cellNexus","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/create_interface_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","text":"","code":"create_interface_app(metadata)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/create_interface_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","text":"metadata cellNexus metadata returned get_metadata().","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/create_interface_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","text":"Shiny app allows users filter cellNexus metadata generate code retrieval selected format.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/create_interface_app.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","text":"Jared Andrews","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/create_interface_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Shiny app that allows users to generate filtering & retreival code for cellNexus — create_interface_app","text":"","code":"if (FALSE) { # \\dontrun{ # Create the interface app with metadata # For fast build purpose only, you do not need to specify anything in cloud_metadata. metadata <-get_metadata(cloud_metadata = SAMPLE_DATABASE_URL) app <- create_interface_app(metadata) # Run the app shiny::runApp(app) } # }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/delete_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Deletes specific counts and metadata from cache — delete_counts","title":"Deletes specific counts and metadata from cache — delete_counts","text":"Deletes specific counts metadata cache","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/delete_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deletes specific counts and metadata from cache — delete_counts","text":"","code":"delete_counts(   data,   assay = c(\"original\", \"cpm\"),   cache_directory = get_default_cache_dir() )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/delete_counts.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Deletes specific counts and metadata from cache — delete_counts","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/delete_counts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Deletes specific counts and metadata from cache — delete_counts","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"Given data frame Curated Atlas metadata obtained get_metadata(), returns SingleCellExperiment::SingleCellExperiment object corresponding samples data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"","code":"get_SingleCellExperiment(...)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"... Arguments passed get_single_cell_experiment data data frame containing, minimum, cell_id, file_id_cellNexus_single_cell atlas_id columns, correspond single cell ID, file subdivision internal use, atlas name format (e.g cellxgene/06-02-2025) internal use. can obtained get_metadata() function. assays character vector specifying desired assay(s) requested. Valid elements include \"counts\", \"cpm\", \"rank\" single-cell analyses, \"counts\" pseudobulk analyses. default setting retrieves counts assay. analysis involves smaller set genes, consider using \"cpm\" assay. \"rank\" assay suited signature calculations across millions cells. cell_aggregation character vector specifies cell aggregation strategy applied. create corresponding subdirectory cache directory. Single cell level applied default. cache_directory optional character vector length one. provided, indicate local file path remotely accessed files copied. repository character vector length one. provided, HTTP URL pointing location single cell data stored. features optional character vector features (ie genes) return counts . default counts features returned. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"SingleCellExperiment object.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_SingleCellExperiment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets a SingleCellExperiment from curated metadata — get_SingleCellExperiment","text":"","code":"# Use the lightweight sample database URL (for fast checks during development only) meta <- get_metadata(cloud_metadata = cellNexus::SAMPLE_DATABASE_URL) |> head(2) sce <- get_single_cell_experiment(meta) #> ℹ Realising metadata. #> ℹ Synchronising files #> ℹ Reading files. #> ℹ Compiling Experiment."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_default_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns the default cache directory with a version number — get_default_cache_dir","title":"Returns the default cache directory with a version number — get_default_cache_dir","text":"Returns default cache directory version number","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_default_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns the default cache directory with a version number — get_default_cache_dir","text":"","code":"get_default_cache_dir()"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_default_cache_dir.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Returns the default cache directory with a version number — get_default_cache_dir","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_default_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns the default cache directory with a version number — get_default_cache_dir","text":"length one character vector.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_default_cache_dir.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Returns the default cache directory with a version number — get_default_cache_dir","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_default_cache_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Returns the default cache directory with a version number — get_default_cache_dir","text":"","code":"get_metadata(cache_directory = get_default_cache_dir()) #> # Source:   SQL [?? x 97] #> # Database: DuckDB 1.4.3 [unknown@Linux 6.14.0-1017-azure:R 4.6.0/:memory:] #>    cell_id                     dataset_id observation_joinid sample_id cell_type #>    <chr>                       <chr>      <chr>              <chr>     <chr>     #>  1 10X389_2:AATCGTGTCTGGGAGA_… 00476f9f-… 6Q`5Q?s8MG         9303a73f… neuron    #>  2 10X389_2:ACCAAACGTCTCAGGC_… 00476f9f-… =rzn8n*;Bt         9303a73f… neuron    #>  3 10X389_2:TCCGGGACACAGCGCT_… 00476f9f-… {UrC34cLRz         9303a73f… neuron    #>  4 10X389_1:GTGACGCGTATCCCAA_… 00476f9f-… aX=h+H$b%3         9303a73f… neuron    #>  5 10X389_2:ACTGCAACAAGAGATT_… 00476f9f-… yujwks<ZXP         9303a73f… neuron    #>  6 10X389_2:AGGAGGTAGTTCCGTA_… 00476f9f-… `I`7=IHlhJ         9303a73f… neuron    #>  7 10X389_2:GAAGGACGTATGACAA_… 00476f9f-… 9UR&U96Up(         9303a73f… neuron    #>  8 10X389_2:GCCAGGTTCCCGAGAC_… 00476f9f-… GknSduSP`2         9303a73f… neuron    #>  9 10X389_1:TTGGATGCAAGCGCAA_… 00476f9f-… U}{>K6!kF$         9303a73f… neuron    #> 10 10X389_1:ACACGCGGTCCTGAAT_… 00476f9f-… A;nR~xd6D5         9303a73f… neuron    #> # ℹ more rows #> # ℹ 92 more variables: cell_type_ontology_term_id <chr>, sample_ <chr>, #> #   assay <chr>, assay_ontology_term_id <chr>, cell_count <int>, #> #   citation <chr>, collection_id <chr>, dataset_version_id <chr>, #> #   default_embedding <chr>, development_stage <chr>, #> #   development_stage_ontology_term_id <chr>, disease <chr>, #> #   disease_ontology_term_id <chr>, donor_id <chr>, experiment___ <chr>, …"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets a Metacell from curated metadata — get_metacell","title":"Gets a Metacell from curated metadata — get_metacell","text":"Given data frame Curated Atlas metadata obtained get_metadata(), returns SingleCellExperiment::SingleCellExperiment object corresponding samples data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets a Metacell from curated metadata — get_metacell","text":"","code":"get_metacell(   data,   assays = \"counts\",   cell_aggregation,   cache_directory = get_default_cache_dir(),   repository = COUNTS_URL,   features = NULL )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gets a Metacell from curated metadata — get_metacell","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets a Metacell from curated metadata — get_metacell","text":"data data frame containing, minimum, sample_id, file_id_cellNexus_single_cell, atlas_id metacell column (e.g metacell_2) columns, correspond sample ID file subdivision internal use, atlas name format (e.g cellxgene/06-02-2025) internal use, metacell column queried. can obtained get_metadata() function. assays character vector metacell counts. Default \"counts\". cell_aggregation character vector representing level metacell aggregation. indicates group cells can divided number metacells. metacell comprises minimum ten single cells default. cache_directory optional character vector length one. provided, indicate local file path remotely accessed files copied. repository character vector length one. provided, HTTP URL pointing location single cell data stored. features optional character vector features (ie genes) return counts . default counts features returned. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets a Metacell from curated metadata — get_metacell","text":"SingleCellExperiment object.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gets a Metacell from curated metadata — get_metacell","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metacell.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets a Metacell from curated metadata — get_metacell","text":"","code":"# Use the lightweight sample database URL (for fast checks during development only) meta <- get_metadata(cloud_metadata = cellNexus::SAMPLE_DATABASE_URL) |> head(2) #> ℹ Downloading 1 file, totalling 0 GB #> ℹ Downloading https://object-store.rc.nectar.org.au/v1/AUTH_06d6e008e3e642da99d806ba3ea629c5/cellNexus-metadata/sample_metadata.1.3.0.parquet to /github/home/.cache/R/cellNexus/sample_metadata.1.3.0.parquet metacell <- meta |> get_metacell(cell_aggregation = \"metacell_2\") #> ℹ Realising metadata. #> ℹ Synchronising files #> ℹ Reading files. #> ℹ Compiling Experiment."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets the CellNexus metadata as a data frame. — get_metadata","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"Downloads parquet database Human Cell Atlas metadata local cache, opens data frame. can filtered passed get_single_cell_experiment() obtain SingleCellExperiment::SingleCellExperiment","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"","code":"get_metadata(   cloud_metadata = get_metadata_url(),   local_metadata = NULL,   cache_directory = get_default_cache_dir(),   use_cache = TRUE,   ... )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"cloud_metadata Optional character vector length. HTTP URL/URLs pointing name location parquet database/databases. default, points cellNexus ARDC Nectar Research Cloud. Assign NULL query local_metadata exists. local_metadata Optional character vector length representing local path parquet database(s). cache_directory Optional character vector length 1. file path local system directory (file) used store metadata.parquet use_cache Optional logical scalar. TRUE (default), function called parameters, cached reference table returned. FALSE, new connection created matter . ... Arguments passed read_parquet filename_column column name metadata indicates row came file. default add column.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"lazy data.frame subclass containing metadata. can interact object using standard dplyr functions. string matching, recommended use stringr::str_like filter character columns, stringr::str_match work.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"metadata collected Bioconductor package cellxgenedp. vignette(\"using_cellxgenedp\", package=\"cellxgenedp\") provides overview columns metadata. data column organism_name included \"Homo sapiens\" collected collected cellxgenedp. columns dataset_id file_id_cellNexus_single_cell link datasets explorable cellNexus cellxgenedpto CELLxGENE portal. representation, harmonises metadata dataset, sample cell levels, unique coherent database table. Dataset-specific columns (definitions available cellxgene.cziscience.com): cell_count, collection_id, created_at.x, created_at.y, dataset_deployments, dataset_id, file_id_cellNexus_single_cell, filename, filetype, is_primary_data.y, is_valid, linked_genesets, mean_genes_per_cell, name, published, published_at, revised_at, revision, s3_uri, schema_version, tombstone, updated_at.x, updated_at.y, user_submitted, x_normalization Sample-specific columns (definitions available cellxgene.cziscience.com): sample_id, .sample_name, age_days, assay, assay_ontology_term_id, development_stage, development_stage_ontology_term_id, ethnicity, ethnicity_ontology_term_id, experiment___, organism, organism_ontology_term_id, sample_placeholder, sex, sex_ontology_term_id, tissue, tissue_harmonised, tissue_ontology_term_id, disease, disease_ontology_term_id, is_primary_data.x Cell-specific columns (definitions available cellxgene.cziscience.com): cell_id, cell_type, cell_type_ontology_term_idm, cell_type_harmonised, confidence_class, cell_annotation_azimuth_l2, cell_annotation_blueprint_singler harmonisation curation introduced custom columns present original CELLxGENE metadata: tissue_harmonised: coarser tissue name better filtering age_days: number days corresponding age cell_type_harmonised: consensus call identity (immune cells) using original three novel annotations using Seurat Azimuth SingleR confidence_class: ordinal class confident cell_type_harmonised . 1 complete consensus, 2 3 four . cell_annotation_azimuth_l2: Azimuth cell annotation cell_annotation_blueprint_singler: SingleR cell annotation using Blueprint reference cell_annotation_blueprint_monaco: SingleR cell annotation using Monaco reference sample_id_db: Sample subdivision internal use file_id_db: File subdivision internal use sample_id: Sample ID .sample_name: samples defined Possible cache path issues default R cache path includes non-standard characters (e.g. dash user organisation name), following error can occur.   solution choose different cache, example","code":"Error in `db_query_fields.DBIConnection()`: ! Can't query fields. Caused by error: ! Parser Error: syntax error at or near \"/\" LINE 2: FROM /Users/bob/Library/Caches... get_metadata(cache_directory = path.expand('~'))"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets the CellNexus metadata as a data frame. — get_metadata","text":"","code":"library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union # For fast build purpose only, you do not need to specify anything in cloud_metadata. filtered_metadata <- get_metadata(cloud_metadata = SAMPLE_DATABASE_URL) |>      filter(         self_reported_ethnicity == \"African\" &             assay %LIKE% \"%10x%\" &             tissue == \"lung parenchyma\" &             cell_type %LIKE% \"%CD4%\"     )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns the URLs for all metadata files — get_metadata_url","title":"Returns the URLs for all metadata files — get_metadata_url","text":"Returns URLs metadata files","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns the URLs for all metadata files — get_metadata_url","text":"","code":"get_metadata_url(databases = c(\"metadata.1.3.0.parquet\"))"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Returns the URLs for all metadata files — get_metadata_url","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns the URLs for all metadata files — get_metadata_url","text":"databases character vector specifying names metadata files. Download specific metadata defining metadata version. default metadata.1.3.0.parquet","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns the URLs for all metadata files — get_metadata_url","text":"character vector URLs parquet files download","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Returns the URLs for all metadata files — get_metadata_url","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_metadata_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Returns the URLs for all metadata files — get_metadata_url","text":"","code":"get_metadata_url(\"metadata.1.3.0.parquet\") #> https://object-store.rc.nectar.org.au/v1/AUTH_06d6e008e3e642da99d806ba3ea629c5/cellNexus-metadata/metadata.1.3.0.parquet"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets a Pseudobulk from curated metadata — get_pseudobulk","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"Given data frame Curated Atlas metadata obtained get_metadata(), returns SummarizedExperiment::SummarizedExperiment object corresponding samples data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"","code":"get_pseudobulk(   data,   assays = \"counts\",   cell_aggregation = \"pseudobulk\",   cache_directory = get_default_cache_dir(),   repository = COUNTS_URL,   features = NULL )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"data data frame containing, minimum, cell_id, file_id_cellNexus_pseudobulk, sample_id, cell_type_unified_ensemble, atlas_id columns, correspond single cell ID, file subdivision internal use, singlel cell sample ID, harmonised cell type, atlas name format (e.g cellxgene/06-02-2025) internal use. can obtained get_metadata() function. assays character vector specifying desired assay(s) requested. Valid elements include \"counts\", \"cpm\", \"rank\" single-cell analyses, \"counts\" pseudobulk analyses. default setting retrieves counts assay. analysis involves smaller set genes, consider using \"cpm\" assay. \"rank\" assay suited signature calculations across millions cells. cell_aggregation character vector specifies cell aggregation strategy applied. create corresponding subdirectory cache directory. cache_directory optional character vector length one. provided, indicate local file path remotely accessed files copied. repository character vector length one. provided, HTTP URL pointing location single cell data stored. features optional character vector features (ie genes) return counts . default counts features returned. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"SummarizedExperiment object.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_pseudobulk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets a Pseudobulk from curated metadata — get_pseudobulk","text":"","code":"# Use the lightweight sample database URL (for fast checks during development only) meta <- get_metadata(cloud_metadata = cellNexus::SAMPLE_DATABASE_URL) |> head(2) #> ℹ Downloading 1 file, totalling 0 GB #> ℹ Downloading https://object-store.rc.nectar.org.au/v1/AUTH_06d6e008e3e642da99d806ba3ea629c5/cellNexus-metadata/sample_metadata.1.3.0.parquet to /github/home/.cache/R/cellNexus/sample_metadata.1.3.0.parquet pseudobulk <- meta |> get_pseudobulk() #> ℹ Realising metadata. #> ℹ Synchronising files #> ℹ Reading files. #> ℹ Compiling Experiment."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":null,"dir":"Reference","previous_headings":"","what":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"Given data frame HCA metadata, returns Seurat object corresponding samples data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"","code":"get_seurat(...)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"... Arguments passed get_single_cell_experiment data data frame containing, minimum, cell_id, file_id_cellNexus_single_cell atlas_id columns, correspond single cell ID, file subdivision internal use, atlas name format (e.g cellxgene/06-02-2025) internal use. can obtained get_metadata() function. assays character vector specifying desired assay(s) requested. Valid elements include \"counts\", \"cpm\", \"rank\" single-cell analyses, \"counts\" pseudobulk analyses. default setting retrieves counts assay. analysis involves smaller set genes, consider using \"cpm\" assay. \"rank\" assay suited signature calculations across millions cells. cell_aggregation character vector specifies cell aggregation strategy applied. create corresponding subdirectory cache directory. Single cell level applied default. cache_directory optional character vector length one. provided, indicate local file path remotely accessed files copied. repository character vector length one. provided, HTTP URL pointing location single cell data stored. features optional character vector features (ie genes) return counts . default counts features returned. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"Seurat object containing data call get_single_cell_experiment()","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_seurat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Given a data frame of HCA metadata, returns a Seurat object corresponding to the samples in that data frame — get_seurat","text":"","code":"# Use the lightweight sample database URL (for fast checks during development only) meta <- get_metadata(cloud_metadata = cellNexus::SAMPLE_DATABASE_URL) |> head(2) seurat <- get_seurat(meta) #> ℹ Realising metadata. #> ℹ Synchronising files #> ℹ Reading files. #> ℹ Compiling Experiment."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"Given data frame Curated Atlas metadata obtained get_metadata(), returns SingleCellExperiment::SingleCellExperiment object corresponding samples data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"","code":"get_single_cell_experiment(   data,   assays = \"counts\",   cell_aggregation = \"\",   cache_directory = get_default_cache_dir(),   repository = COUNTS_URL,   features = NULL )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"data data frame containing, minimum, cell_id, file_id_cellNexus_single_cell atlas_id columns, correspond single cell ID, file subdivision internal use, atlas name format (e.g cellxgene/06-02-2025) internal use. can obtained get_metadata() function. assays character vector specifying desired assay(s) requested. Valid elements include \"counts\", \"cpm\", \"rank\" single-cell analyses, \"counts\" pseudobulk analyses. default setting retrieves counts assay. analysis involves smaller set genes, consider using \"cpm\" assay. \"rank\" assay suited signature calculations across millions cells. cell_aggregation character vector specifies cell aggregation strategy applied. create corresponding subdirectory cache directory. Single cell level applied default. cache_directory optional character vector length one. provided, indicate local file path remotely accessed files copied. repository character vector length one. provided, HTTP URL pointing location single cell data stored. features optional character vector features (ie genes) return counts . default counts features returned. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped. provided, returned object contain exactly requested features (row order preserved), experiments/samples contain requested features dropped. preserves full set requested features cost potentially fewer samples. warning emitted samples dropped.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"SingleCellExperiment object.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_single_cell_experiment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets a SingleCellExperiment from curated metadata — get_single_cell_experiment","text":"","code":"# Use the lightweight sample database URL (for fast checks during development only) meta <- get_metadata(cloud_metadata = cellNexus::SAMPLE_DATABASE_URL) |> head(2) sce <- get_single_cell_experiment(meta) #> ℹ Realising metadata. #> ℹ Synchronising files #> ℹ Reading files. #> ℹ Compiling Experiment."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"Various metadata fields common datasets, make sense live main metadata table. function utility allows easy fetching data necessary.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"","code":"get_unharmonised_dataset(   dataset_id,   cells = NULL,   conn = dbConnect(drv = duckdb(), read_only = TRUE),   remote_url = UNHARMONISED_URL,   cache_directory = get_default_cache_dir() )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"dataset_id character vector, entry dataset ID obtained $file_id_cellNexus_single_cell column table returned get_metadata() cells optional character vector cell IDs. provided, metadata cells returned. conn optional DuckDB connection object. provided, re-use existing connection instead opening new one. remote_url Optional character vector length 1. HTTP URL pointing root URL unharmonised dataset files located. cache_directory Optional character vector length 1. file path local system directory (file) used store unharmonised metadata files.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"named list, name dataset file ID, value \"lazy data frame\", ie tbl.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_dataset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Returns unharmonised metadata for selected datasets. — get_unharmonised_dataset","text":"","code":"if (FALSE) { # \\dontrun{ dataset <- \"838ea006-2369-4e2c-b426-b2a744a2b02b\" harmonised_meta <- get_metadata() |>      dplyr::filter(file_id_cellNexus_single_cell == dataset) |> dplyr::collect() unharmonised_meta <- get_unharmonised_dataset(dataset) unharmonised_tbl <- dplyr::collect(unharmonised_meta[[dataset]]) dplyr::left_join(harmonised_meta, unharmonised_tbl,      by=c(\"file_id_cellNexus_single_cell\", \"cell_id\")) } # }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","title":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","text":"Various metadata fields common datasets, make sense live main metadata table. function utility allows easy fetching data necessary.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","text":"","code":"get_unharmonised_metadata(metadata, ...)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_metadata.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","text":"metadata lazy data frame obtained get_metadata(), filtered cells interest ... Arguments passed get_unharmonised_dataset dataset_id character vector, entry dataset ID obtained $file_id_cellNexus_single_cell column table returned get_metadata() cells optional character vector cell IDs. provided, metadata cells returned. conn optional DuckDB connection object. provided, re-use existing connection instead opening new one. remote_url Optional character vector length 1. HTTP URL pointing root URL unharmonised dataset files located. cache_directory Optional character vector length 1. file path local system directory (file) used store unharmonised metadata files.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","text":"tibble two columns: file_id_cellNexus_single_cell: file_id_cellNexus_single_cell main metadata table obtained get_metadata() unharmonised: nested tibble, one row per cell input metadata, containing unharmonised metadata","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/get_unharmonised_metadata.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Returns unharmonised metadata for a metadata query — get_unharmonised_metadata","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/hdf5_to_anndata.html","id":null,"dir":"Reference","previous_headings":"","what":"Converts a series of HDF5Array-serialized SingleCellExperiments to AnnData — hdf5_to_anndata","title":"Converts a series of HDF5Array-serialized SingleCellExperiments to AnnData — hdf5_to_anndata","text":"Converts series HDF5Array-serialized SingleCellExperiments AnnData","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/hdf5_to_anndata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converts a series of HDF5Array-serialized SingleCellExperiments to AnnData — hdf5_to_anndata","text":"","code":"hdf5_to_anndata(input_directory, output_directory)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/hdf5_to_anndata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converts a series of HDF5Array-serialized SingleCellExperiments to AnnData — hdf5_to_anndata","text":"input_directory character scalar. path directory containing one directories created HDF5Array::saveHDF5SummarizedExperiment(). output_directory character scalar. path directory save created anndata files.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/hdf5_to_anndata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converts a series of HDF5Array-serialized SingleCellExperiments to AnnData — hdf5_to_anndata","text":"character vector newly-created anndata files","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/hdf5_to_anndata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Converts a series of HDF5Array-serialized SingleCellExperiments to AnnData — hdf5_to_anndata","text":"","code":"if (FALSE) { # \\dontrun{ hdf5_to_anndata(     \"/vast/projects/cellxgene_curated/splitted_DB2_data_0.2.1\",     \"/vast/projects/cellxgene_curated/splitted_DB2_anndata_0.2.1\" ) hdf5_to_anndata(     \"/vast/projects/cellxgene_curated/splitted_DB2_data_scaled_0.2.1\",     \"/vast/projects/cellxgene_curated/splitted_DB2_anndata_scaled_0.2.1\" ) } # }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":null,"dir":"Reference","previous_headings":"","what":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"Import process metadata counts SingleCellExperiment object","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"","code":"import_one_sce(   sce_obj,   atlas_name,   import_date,   cell_aggregation,   cache_dir = get_default_cache_dir(),   pseudobulk = FALSE )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"sce_obj SingleCellExperiment object, metadata slot must contain cell_id dataset_id atlas_name character string specifying name atlas import. import_date character vector specifies date import. date international format 'YYYY-MM-DD' clarity consistency. cell_aggregation character vector specifies cell aggregation strategy applied. create  corresponding subdirectory atlas cache. Choose one following: single_cell, pseudobulk cache_dir Optional character vector length 1. file path local system directory (file) used store atlas_metadata.parquet pseudobulk Optional character. Set TRUE generating importing pseudobulk, metadata slot must contain file_id_cellNexus_single_cell, cell_type_harmonised sample_","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"user-defined atlas metadata.parquet SingleCellExperiment object. Directories store counts /counts per million /quantile_normalised provided cache directory.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/import_one_sce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import and process metadata and counts for a SingleCellExperiment object — import_one_sce","text":"","code":"data(pbmc3k_sce) import_one_sce(pbmc3k_sce,                atlas_name = \"pbmc3k_sce_atlas\",                import_date = format(Sys.Date(), \"%d-%m-%Y\"),                cell_aggregation = \"single_cell\",                cache_dir = get_default_cache_dir(),                pseudobulk = FALSE) #> ℹ Generating cpm from 18e65312747b3f1624c2f9240612579e.  #> Error in generator$new(shape = rev(dim(sce)), ...): File #> /github/home/.cache/R/cellNexus/pbmc3k_sce_atlas/19-02-2026/single_cell/counts/18e65312747b3f1624c2f9240612579e.h5ad #> already exists but mode is set to \"w-\". If you want to overwrite the file, use #> a different mode (e.g. 'w'). See `?read_h5ad()` or `?write_h5ad()` for more #> information."},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/metacell_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Metacell SingleCellExperiment Object — metacell_counts","title":"Sample Metacell SingleCellExperiment Object — metacell_counts","text":"pre-made SingleCellExperiment object metacell aggregated data vignette demonstration. object used vignette avoid downloading data package build.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/metacell_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Metacell SingleCellExperiment Object — metacell_counts","text":"","code":"metacell_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/metacell_counts.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Metacell SingleCellExperiment Object — metacell_counts","text":"object class SingleCellExperiment : assays Gene expression matrix counts assay aggregated metacells colData Metacell metadata including metacell_2, etc.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/metacell_counts.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Metacell SingleCellExperiment Object — metacell_counts","text":"Created cellNexus datasets","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/metacell_counts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Metacell SingleCellExperiment Object — metacell_counts","text":"See dev/create_vignette_data.R creation script.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/organize_inputs.html","id":null,"dir":"Reference","previous_headings":"","what":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","title":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","text":"Organize arbitrary Shiny inputs grid layout","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/organize_inputs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","text":"","code":"organize_inputs(   tag.list,   id = NULL,   title = NULL,   tack = NULL,   columns = NULL,   rows = NULL )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/organize_inputs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","text":"tag.list tagList containing UI inputs named list containing multiple tagLists containing UI inputs. id optional ID tabsetPanel named list provided. title optional title grid, UI element, e.g. h3(\"Title\"). tack optional UI input tack onto end grid. columns Number columns. rows Number rows.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/organize_inputs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","text":"Shiny tagList inputs organized grid, optionally nested inside tabsetPanel.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/organize_inputs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","text":"Jared Andrews","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/organize_inputs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Organize arbitrary Shiny inputs into a grid layout — organize_inputs","text":"","code":"library(shiny) # Example 1: Basic usage with a simple grid ui.inputs <- tagList(     textInput(\"name\", \"Name\"),     numericInput(\"age\", \"Age\", value = 30),     selectInput(\"gender\", \"Gender\", choices = c(\"Male\", \"Female\", \"Other\")) ) organize_inputs(ui.inputs, columns = 2, rows = 2) #> [[1]] #> <div class=\"row\"> #>   <div class=\"col-sm-6\"> #>     <div class=\"form-group shiny-input-container\"> #>       <label class=\"control-label\" id=\"name-label\" for=\"name\">Name<\/label> #>       <input id=\"name\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     <\/div> #>   <\/div> #>   <div class=\"col-sm-6\"> #>     <div class=\"form-group shiny-input-container\"> #>       <label class=\"control-label\" id=\"age-label\" for=\"age\">Age<\/label> #>       <input id=\"age\" type=\"number\" class=\"shiny-input-number form-control\" value=\"30\" data-update-on=\"change\"/> #>     <\/div> #>   <\/div> #> <\/div> #>  #> [[2]] #> <div class=\"row\"> #>   <div class=\"col-sm-6\"> #>     <div class=\"form-group shiny-input-container\"> #>       <label class=\"control-label\" id=\"gender-label\" for=\"gender\">Gender<\/label> #>       <div> #>         <select id=\"gender\" class=\"shiny-input-select\"><option value=\"Male\" selected>Male<\/option> #> <option value=\"Female\">Female<\/option> #> <option value=\"Other\">Other<\/option><\/select> #>         <script type=\"application/json\" data-for=\"gender\" data-nonempty=\"\">{\"plugins\":[\"selectize-plugin-a11y\"]}<\/script> #>       <\/div> #>     <\/div> #>   <\/div> #> <\/div> #>   # Example 2: Using a named list to create tabs ui.inputs.tabs <- list(     Personal = tagList(         textInput(\"firstname\", \"First Name\"),         textInput(\"lastname\", \"Last Name\")     ),     Settings = tagList(         checkboxInput(\"newsletter\", \"Subscribe to newsletter\", value = TRUE),         sliderInput(\"volume\", \"Volume\", min = 0, max = 100, value = 50)     ) ) organize_inputs(ui.inputs.tabs, columns = 2) #> <div class=\"tabbable\"> #>   <ul class=\"nav nav-tabs\" data-tabsetid=\"5306\"> #>     <li class=\"active\"> #>       <a href=\"#tab-5306-1\" data-toggle=\"tab\" data-bs-toggle=\"tab\" data-value=\"Personal\">Personal<\/a> #>     <\/li> #>     <li> #>       <a href=\"#tab-5306-2\" data-toggle=\"tab\" data-bs-toggle=\"tab\" data-value=\"Settings\">Settings<\/a> #>     <\/li> #>   <\/ul> #>   <div class=\"tab-content\" data-tabsetid=\"5306\"> #>     <div class=\"tab-pane active\" data-value=\"Personal\" id=\"tab-5306-1\"> #>       <div class=\"row\"> #>         <div class=\"col-sm-6\"> #>           <div class=\"form-group shiny-input-container\"> #>             <label class=\"control-label\" id=\"firstname-label\" for=\"firstname\">First Name<\/label> #>             <input id=\"firstname\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>           <\/div> #>         <\/div> #>         <div class=\"col-sm-6\"> #>           <div class=\"form-group shiny-input-container\"> #>             <label class=\"control-label\" id=\"lastname-label\" for=\"lastname\">Last Name<\/label> #>             <input id=\"lastname\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>           <\/div> #>         <\/div> #>       <\/div> #>     <\/div> #>     <div class=\"tab-pane\" data-value=\"Settings\" id=\"tab-5306-2\"> #>       <div class=\"row\"> #>         <div class=\"col-sm-6\"> #>           <div class=\"form-group shiny-input-container\"> #>             <div class=\"checkbox\"> #>               <label> #>                 <input id=\"newsletter\" type=\"checkbox\" class=\"shiny-input-checkbox\" checked=\"checked\"/> #>                 <span>Subscribe to newsletter<\/span> #>               <\/label> #>             <\/div> #>           <\/div> #>         <\/div> #>         <div class=\"col-sm-6\"> #>           <div class=\"form-group shiny-input-container\"> #>             <label class=\"control-label\" id=\"volume-label\" for=\"volume\">Volume<\/label> #>             <input class=\"js-range-slider\" id=\"volume\" data-skin=\"shiny\" data-min=\"0\" data-max=\"100\" data-from=\"50\" data-step=\"1\" data-grid=\"true\" data-grid-num=\"10\" data-grid-snap=\"false\" data-prettify-separator=\",\" data-prettify-enabled=\"true\" data-keyboard=\"true\" data-data-type=\"number\"/> #>           <\/div> #>         <\/div> #>       <\/div> #>     <\/div> #>   <\/div> #> <\/div>  # Example 3: Adding an additional UI element with 'tack' additional.ui <- actionButton(\"submit\", \"Submit\") organize_inputs(ui.inputs, tack = additional.ui, columns = 3) #> <div class=\"row\"> #>   <div class=\"col-sm-4\"> #>     <div class=\"form-group shiny-input-container\"> #>       <label class=\"control-label\" id=\"name-label\" for=\"name\">Name<\/label> #>       <input id=\"name\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     <\/div> #>   <\/div> #>   <div class=\"col-sm-4\"> #>     <div class=\"form-group shiny-input-container\"> #>       <label class=\"control-label\" id=\"age-label\" for=\"age\">Age<\/label> #>       <input id=\"age\" type=\"number\" class=\"shiny-input-number form-control\" value=\"30\" data-update-on=\"change\"/> #>     <\/div> #>   <\/div> #>   <div class=\"col-sm-4\"> #>     <div class=\"form-group shiny-input-container\"> #>       <label class=\"control-label\" id=\"gender-label\" for=\"gender\">Gender<\/label> #>       <div> #>         <select id=\"gender\" class=\"shiny-input-select\"><option value=\"Male\" selected>Male<\/option> #> <option value=\"Female\">Female<\/option> #> <option value=\"Other\">Other<\/option><\/select> #>         <script type=\"application/json\" data-for=\"gender\" data-nonempty=\"\">{\"plugins\":[\"selectize-plugin-a11y\"]}<\/script> #>       <\/div> #>     <\/div> #>   <\/div> #> <\/div> #> <button id=\"submit\" type=\"button\" class=\"btn btn-default action-button\"> #>   <span class=\"action-label\">Submit<\/span> #> <\/button>  # Example 4: Handling a case with more inputs than grid cells many.inputs <- tagList(replicate(10, textInput(\"input\", \"Input\"))) organize_inputs(many.inputs, columns = 3) # Creates more than one row #> [[1]] #> <div class=\"row\"> #>   <div class=\"col-sm-4\"> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>     div #>     form-group shiny-input-container #>     <label class=\"control-label\" id=\"input-label\" for=\"input\">Input<\/label> #>     <input id=\"input\" type=\"text\" class=\"shiny-input-text form-control\" value=\"\" data-update-on=\"change\"/> #>   <\/div> #> <\/div> #>"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample SingleCellExperiment Object — pbmc3k_sce","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"sample SingleCellExperiment object created pbmc3k dataset testing demonstration purposes. dataset contains 500 cells gene expression data mapped Ensembl gene IDs formatted cellNexus-compatible metadata structure.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"","code":"pbmc3k_sce"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"object class SingleCellExperiment : assays Gene expression matrix Ensembl gene IDs rownames colData Cell metadata including sample_id, cell_type_unified_ensemble, nCount_RNA, etc. metadata List containing 'data' field cellNexus-formatted metadata including: cell_id: Unique cell identifier sample_id: Sample identifier cell_type_unified_ensemble: Cell type annotation nCount_RNA: Number RNA molecules per cell ident: Seurat cluster identity dataset_id: Dataset identifier file_id_cellNexus_single_cell: Generated file ID cellNexus atlas_id: Atlas identifier date","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"Created pbmc3k dataset (SeuratData package)","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"See dev/create_pbmc3k_sce.R complete creation script.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pbmc3k_sce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample SingleCellExperiment Object — pbmc3k_sce","text":"","code":"if (FALSE) { # \\dontrun{ # Load the sample dataset data(pbmc3k_sce)  # View basic information pbmc3k_sce  # Access metadata metadata(pbmc3k_sce)$data  # View cell types unique(metadata(pbmc3k_sce)$data$cell_type_unified_ensemble) } # }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pseudobulk_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Pseudobulk SingleCellExperiment Object — pseudobulk_counts","title":"Sample Pseudobulk SingleCellExperiment Object — pseudobulk_counts","text":"pre-made SingleCellExperiment object pseudobulk aggregated data vignette demonstration. object used vignette avoid downloading data package build.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pseudobulk_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Pseudobulk SingleCellExperiment Object — pseudobulk_counts","text":"","code":"pseudobulk_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pseudobulk_counts.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Pseudobulk SingleCellExperiment Object — pseudobulk_counts","text":"object class SingleCellExperiment : assays Gene expression matrix counts assay aggregated sample cell type colData Sample metadata including sample_id, cell_type_unified_ensemble, etc.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pseudobulk_counts.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Pseudobulk SingleCellExperiment Object — pseudobulk_counts","text":"Created cellNexus datasets","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/pseudobulk_counts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Pseudobulk SingleCellExperiment Object — pseudobulk_counts","text":"See dev/create_vignette_data.R creation script.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/read_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns a tibble from a parquet file path Since dbplyr 2.4.0, raw file paths aren't handled very well See: https://github.com/duckdb/duckdb-r/issues/38 Hence the need for this method — read_parquet","title":"Returns a tibble from a parquet file path Since dbplyr 2.4.0, raw file paths aren't handled very well See: https://github.com/duckdb/duckdb-r/issues/38 Hence the need for this method — read_parquet","text":"Returns tibble parquet file path Since dbplyr 2.4.0, raw file paths handled well See: https://github.com/duckdb/duckdb-r/issues/38 Hence need method","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/read_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns a tibble from a parquet file path Since dbplyr 2.4.0, raw file paths aren't handled very well See: https://github.com/duckdb/duckdb-r/issues/38 Hence the need for this method — read_parquet","text":"","code":"read_parquet(conn, path, filename_column = FALSE)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/read_parquet.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Returns a tibble from a parquet file path Since dbplyr 2.4.0, raw file paths aren't handled very well See: https://github.com/duckdb/duckdb-r/issues/38 Hence the need for this method — read_parquet","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/read_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns a tibble from a parquet file path Since dbplyr 2.4.0, raw file paths aren't handled very well See: https://github.com/duckdb/duckdb-r/issues/38 Hence the need for this method — read_parquet","text":"filename_column column name metadata indicates row came file. default add column.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/read_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns a tibble from a parquet file path Since dbplyr 2.4.0, raw file paths aren't handled very well See: https://github.com/duckdb/duckdb-r/issues/38 Hence the need for this method — read_parquet","text":"SQL data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/report_file_sizes.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints a message indicating the size of a download — report_file_sizes","title":"Prints a message indicating the size of a download — report_file_sizes","text":"Prints message indicating size download","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/report_file_sizes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints a message indicating the size of a download — report_file_sizes","text":"","code":"report_file_sizes(urls)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/report_file_sizes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Prints a message indicating the size of a download — report_file_sizes","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/report_file_sizes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints a message indicating the size of a download — report_file_sizes","text":"urls character vector containing URLs","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/report_file_sizes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prints a message indicating the size of a download — report_file_sizes","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample SingleCellExperiment Object with Counts Assay — single_cell_counts","title":"Sample SingleCellExperiment Object with Counts Assay — single_cell_counts","text":"pre-made SingleCellExperiment object counts assay vignette demonstration. object used vignette avoid downloading data package build.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample SingleCellExperiment Object with Counts Assay — single_cell_counts","text":"","code":"single_cell_counts"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_counts.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample SingleCellExperiment Object with Counts Assay — single_cell_counts","text":"object class SingleCellExperiment : assays Gene expression matrix counts assay colData Cell metadata including sample_id, cell_type_unified_ensemble, etc.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_counts.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample SingleCellExperiment Object with Counts Assay — single_cell_counts","text":"Created cellNexus datasets","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_counts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample SingleCellExperiment Object with Counts Assay — single_cell_counts","text":"See dev/create_vignette_data.R creation script.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_cpm.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample SingleCellExperiment Object with CPM Assay — single_cell_cpm","title":"Sample SingleCellExperiment Object with CPM Assay — single_cell_cpm","text":"pre-made SingleCellExperiment object counts-per-million (CPM) assay vignette demonstration. object used vignette avoid downloading data package build.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_cpm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample SingleCellExperiment Object with CPM Assay — single_cell_cpm","text":"","code":"single_cell_cpm"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_cpm.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample SingleCellExperiment Object with CPM Assay — single_cell_cpm","text":"object class SingleCellExperiment : assays Gene expression matrix cpm assay colData Cell metadata including sample_id, cell_type_unified_ensemble, etc.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_cpm.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample SingleCellExperiment Object with CPM Assay — single_cell_cpm","text":"Created cellNexus datasets","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_cell_cpm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample SingleCellExperiment Object with CPM Assay — single_cell_cpm","text":"See dev/create_vignette_data.R creation script.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_line_str.html","id":null,"dir":"Reference","previous_headings":"","what":"Formats a multi-line string as it it were on one line — single_line_str","title":"Formats a multi-line string as it it were on one line — single_line_str","text":"Formats multi-line string one line","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_line_str.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formats a multi-line string as it it were on one line — single_line_str","text":"","code":"single_line_str(text)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_line_str.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Formats a multi-line string as it it were on one line — single_line_str","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_line_str.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formats a multi-line string as it it were on one line — single_line_str","text":"text character vector","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/single_line_str.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formats a multi-line string as it it were on one line — single_line_str","text":"character vector, newlines subsequent whitespace removed","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_metadata_assay_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Synchronize metadata assay files with remote repository — sync_metadata_assay_files","title":"Synchronize metadata assay files with remote repository — sync_metadata_assay_files","text":"Downloads caches assay files remote repository based metadata specifications.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_metadata_assay_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Synchronize metadata assay files with remote repository — sync_metadata_assay_files","text":"","code":"sync_metadata_assay_files(   data,   assays = \"counts\",   repository = COUNTS_URL,   cell_aggregation = \"\",   grouping_column,   cache_directory = get_default_cache_dir() )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_metadata_assay_files.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Synchronize metadata assay files with remote repository — sync_metadata_assay_files","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_metadata_assay_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Synchronize metadata assay files with remote repository — sync_metadata_assay_files","text":"data data frame tbl_sql containing metadata required columns cell_id, atlas_id, grouping column assays Character vector specifying assays sync repository URL remote repository containing assay files cell_aggregation Character string specifying cell aggregation strategy grouping_column Column name data used group files synchronization cache_directory Local directory path files cached. Uses default cache specified","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_metadata_assay_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Synchronize metadata assay files with remote repository — sync_metadata_assay_files","text":"NULL, invisibly. Progress messages displayed downloads.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_remote_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Synchronises a single remote file with a local path — sync_remote_file","title":"Synchronises a single remote file with a local path — sync_remote_file","text":"Synchronises single remote file local path","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_remote_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Synchronises a single remote file with a local path — sync_remote_file","text":"","code":"sync_remote_file(full_url, output_file, ...)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_remote_file.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Synchronises a single remote file with a local path — sync_remote_file","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/sync_remote_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Synchronises a single remote file with a local path — sync_remote_file","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the metadata database in nectar using a newly created data frame — update_database","title":"Update the metadata database in nectar using a newly created data frame — update_database","text":"Update metadata database nectar using newly created data frame","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the metadata database in nectar using a newly created data frame — update_database","text":"","code":"update_database(metadata, version, ...)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the metadata database in nectar using a newly created data frame — update_database","text":"metadata data frame upload version version new metadata character scalar, e.g. \"0.2.3\" ... Arguments passed upload_swift source character scalar indicating local path file upload container character scalar indicating name container upload name optional character scalar indicating name file uploaded. Defaults basename source file. credential_id OpenStack application credential secret character scalar","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update the metadata database in nectar using a newly created data frame — update_database","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_database.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update the metadata database in nectar using a newly created data frame — update_database","text":"","code":"if (FALSE) { # \\dontrun{  metadata = cellNexus::get_metadata() |>      head(10) |>      dplyr::collect()  update_database(      metadata,       \"0.2.3\",       credential_id = \"ABCDEFGHIJK\",       credential_secret = \"ABCD1234EFGH-5678IJK\"  )  # Prints \"metadata.0.2.3.parquet\" if successful } # }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_unharmonised.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the unharmonised parquet files — update_unharmonised","title":"Update the unharmonised parquet files — update_unharmonised","text":"Update unharmonised parquet files","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_unharmonised.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the unharmonised parquet files — update_unharmonised","text":"","code":"update_unharmonised(unharmonised_parquet_dir, ...)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_unharmonised.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the unharmonised parquet files — update_unharmonised","text":"unharmonised_parquet_dir path directory containing parquet files, one dataset, e.g. /vast/projects/cellxgene_curated/metadata_non_harmonised_parquet_0.2 ... Arguments passed upload_swift source character scalar indicating local path file upload container character scalar indicating name container upload name optional character scalar indicating name file uploaded. Defaults basename source file. credential_id OpenStack application credential secret character scalar","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_unharmonised.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update the unharmonised parquet files — update_unharmonised","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/update_unharmonised.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update the unharmonised parquet files — update_unharmonised","text":"","code":"if (FALSE) { # \\dontrun{ update_unharmonised(     \"/vast/projects/cellxgene_curated/metadata_non_harmonised_parquet_0.2\",      credential_id = \"ABCDEFGHIJK\",      credential_secret = \"ABCD1234EFGH-5678IJK\" ) } # }"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/upload_swift.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload a file to the Nectar object store — upload_swift","title":"Upload a file to the Nectar object store — upload_swift","text":"Upload file Nectar object store","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/upload_swift.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload a file to the Nectar object store — upload_swift","text":"","code":"upload_swift(   source,   container,   name = basename(source),   credential_id = NULL,   credential_secret = NULL )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/upload_swift.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload a file to the Nectar object store — upload_swift","text":"source character scalar indicating local path file upload container character scalar indicating name container upload name optional character scalar indicating name file uploaded. Defaults basename source file. credential_id OpenStack application credential secret character scalar","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/upload_swift.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload a file to the Nectar object store — upload_swift","text":"NULL, invisibly","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/url_file_size.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets the file size of a number of remote files — url_file_size","title":"Gets the file size of a number of remote files — url_file_size","text":"Gets file size number remote files","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/url_file_size.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets the file size of a number of remote files — url_file_size","text":"","code":"url_file_size(urls)"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/url_file_size.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gets the file size of a number of remote files — url_file_size","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/url_file_size.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets the file size of a number of remote files — url_file_size","text":"urls character vector containing URLs","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/url_file_size.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets the file size of a number of remote files — url_file_size","text":"file size files pointed provided URL, gigabytes, double vector","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/validate_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate data parameters — validate_data","title":"Validate data parameters — validate_data","text":"Given data frame Curated Atlas metadata obtained get_metadata(), returns list parameters validated.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/validate_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate data parameters — validate_data","text":"","code":"validate_data(   data,   assays = \"counts\",   cell_aggregation,   cache_directory = get_default_cache_dir(),   repository = COUNTS_URL,   features = NULL )"},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/validate_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Validate data parameters — validate_data","text":"Mangiola et al.,2023","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/validate_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate data parameters — validate_data","text":"data data frame containing, minimum, cell_id, file_id_cellNexus_single_cell /file_id_cellNexus_pseudobulk, atlas_id column, correspond single cell ID, file subdivision internal use single_cell /pseudobulk level, atlas name format (e.g cellxgene/06-02-2025) internal use. can obtained get_metadata() function. assays character vector specifying desired assay(s) requested. Valid elements include \"counts\", \"cpm\", \"rank\" single-cell analyses, \"counts\" pseudobulk analyses. default setting retrieves counts assay. analysis involves smaller set genes, consider using \"cpm\" assay. \"rank\" assay suited signature calculations across millions cells. cell_aggregation character vector specifies cell aggregation strategy applied. create  corresponding subdirectory atlas cache. Choose one following: single_cell, pseudobulk cache_directory optional character vector length one. provided, indicate local file path remotely accessed files copied. repository character vector length one. provided, HTTP URL pointing location single cell data stored. features optional character vector features (ie genes) return counts . default counts features returned.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/validate_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate data parameters — validate_data","text":"list containing validated parameters including data, repository, assays, cache_directory, features, cell_aggregation, atlas_name.","code":""},{"path":"https://mangiolalaboratory.github.io/cellNexus/reference/validate_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Validate data parameters — validate_data","text":"Mangiola, S., M. Milton, N. Ranathunga, C. S. N. Li-Wai-Suen, . Odainic, E. Yang, W. Hutchison et al. \"multi-organ map human immune system across age, sex ethnicity.\" bioRxiv (2023): 2023-06. doi:10.1101/2023.06.08.542671.","code":""}]
